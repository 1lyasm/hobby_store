{% extends 'base.html' %}

{% block title %} Home {% endblock %}

{% block content %}

<style>
    .grid-container {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 20px;
        padding: 20px;
        margin-top: 25px;
    }

    .grid-item {
        background-color: #f9f9f9;
        border-radius: 8px;
        padding: 20px;
        box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);
        transition: 0.3s;
    }

    .grid-item:hover {
        box-shadow: 0 8px 16px 0 rgba(0,0,0,0.3);
    }

    .item-title {
        font-size: large;
        font-weight: bold;
        margin-bottom: 10px;
    }

    .item-detail {
        font-size: medium;
        margin-bottom: 5px;
    }

    .button-container {
        text-align: center;
        margin-top: 15px;
    }

    .buy-button {
        background-color: #4CAF50; /* Green */
        color: white;
        padding: 10px 20px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        text-align: center;
    }

    .buy-button:hover {
        background-color: #45a049;
    }
    .action-link {
        display: inline-block;
        margin: 20px;
        padding: 10px 20px;
        background-color: #6A5ACD; /* Theme color */
        color: white;
        border-radius: 5px;
        text-decoration: none;
        font-size: large;
        transition: background-color 0.3s;
    }

    .action-link:hover {
        background-color: #695acd96;
        text-decoration: none;
        color: white;
    }

    .action-links-container {
        text-align: left;
        margin-top: 20px;
    }
</style>


<div class="action-links-container">
    <a href="/sell"class="action-link">Sell an item</a>
</div>

<!-- Sorting form -->
<form method="POST" style="margin-top: 20px;">
    <label for="col_to_sort">Sort by:</label>
    <input type="text" name="col_to_sort" list="col_list">
    <datalist id="col_list">
        <option value="Name"></option>
        <option value="Seller"></option>
        <option value="Total count"></option>
        <option value="Sold count"></option>
        <option value="Price"></option>
    </datalist>
    <input type="hidden" name="sort_by_form"></input>
    <button type="submit">Submit</button>
</form>


<!-- Search form -->
<form method="POST" style="margin-top: 20px;">
    <input type="text" name="query">
    <input type="hidden" name="sort_by_form"></input>
    <button type="submit">Search</button>
</form>

<div class="action-links-container">
    <a href="/stats" class="action-link">Statistics</a>
</div>

<div class="grid-container">
    {% for item in items %}
    <div class="grid-item">
        <div class="item-title">{{item[1]}} #{{item[0]}}</div>
        <div class="item-detail">Seller: {{item[2]}}</div>
        <div class="item-detail">Total number: {{item[3]}}</div>
        <div class="item-detail">Sold count: {{item[4]}}</div>
        <div class="item-detail">Price: {{item[5]}}</div>
        <div class="button-container">
            <form method="POST">
                <input type="hidden" name="buy_id" value="{{item[0]}}">
                <button type="submit" class="buy-button">Buy</button>
            </form>
        </div>
    </div>
    {% endfor %}
</div>

{% endblock %}
